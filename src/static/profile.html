<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - deuruimcidadao</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">üèõÔ∏è</div>
            <div class="loading-text">deuruimcidadao</div>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- User Navigation -->
    <nav id="user-navbar" class="user-navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <i class="bi bi-megaphone"></i>
                deuruimcidadao
            </a>
            
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">
                    <i class="bi bi-grid-3x3-gap"></i>
                    Dashboard
                </a>
                <a href="complaints.html" class="nav-link">
                    <i class="bi bi-exclamation-triangle"></i>
                    Reclama√ß√µes
                </a>
                <a href="profile.html" class="nav-link active">
                    <i class="bi bi-person"></i>
                    Perfil
                </a>
            </div>

            <div class="nav-actions">
                <div class="notifications" id="notifications">
                    <i class="bi bi-bell"></i>
                    <span id="notification-badge" class="notification-badge hidden">3</span>
                </div>
                
                <div class="user-dropdown">
                    <div class="user-avatar">
                        <img id="user-avatar-img" src="https://via.placeholder.com/32x32/6366f1/ffffff?text=JS" alt="Avatar">
                        <span id="user-name">Jo√£o Silva</span>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="dropdown-menu">
                        <a href="profile.html" class="dropdown-item">
                            <i class="bi bi-person"></i>
                            Meu Perfil
                        </a>
                        <a href="settings.html" class="dropdown-item">
                            <i class="bi bi-gear"></i>
                            Configura√ß√µes
                        </a>
                        <div class="dropdown-divider"></div>
                        <button id="logout-btn" class="dropdown-item">
                            <i class="bi bi-box-arrow-right"></i>
                            Sair
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="profile-main">
        <div class="container">
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-cover">
                    <div class="cover-image" id="cover-image">
                        <button class="change-cover-btn" id="change-cover-btn">
                            <i class="bi bi-camera"></i>
                            Alterar Capa
                        </button>
                    </div>
                    
                    <div class="profile-info">
                        <div class="profile-avatar-container">
                            <div class="profile-avatar" id="profile-avatar">
                                <img src="https://via.placeholder.com/120x120/6366f1/ffffff?text=JS" alt="Jo√£o Silva" id="avatar-img">
                                <button class="change-avatar-btn" id="change-avatar-btn">
                                    <i class="bi bi-camera"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="profile-details">
                            <h1 id="profile-name">Jo√£o Silva Santos</h1>
                            <p id="profile-username">@joao_silva</p>
                            <div class="profile-badges">
                                <span class="badge badge-primary">Cidad√£o Ativo</span>
                                <span class="badge badge-success">N√≠vel 5</span>
                                <span class="badge badge-info">Cuiab√° - MT</span>
                            </div>
                            <p id="profile-bio">Morador do bairro Centro h√° 15 anos. Acredito que juntos podemos fazer nossa cidade melhor! üèôÔ∏è</p>
                        </div>
                        
                        <div class="profile-actions">
                            <button class="btn btn-primary" id="edit-profile-btn">
                                <i class="bi bi-pencil"></i>
                                Editar Perfil
                            </button>
                            <button class="btn btn-outline" id="share-profile-btn">
                                <i class="bi bi-share"></i>
                                Compartilhar
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Stats -->
            <div class="profile-stats">
                <div class="stat-item">
                    <div class="stat-number" data-count="24">0</div>
                    <div class="stat-label">Reclama√ß√µes</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="18">0</div>
                    <div class="stat-label">Resolvidas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="156">0</div>
                    <div class="stat-label">Votos Recebidos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="89">0</div>
                    <div class="stat-label">Votos Dados</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="1250">0</div>
                    <div class="stat-label">Pontos XP</div>
                </div>
            </div>

            <!-- Profile Content -->
            <div class="profile-content">
                <!-- Sidebar -->
                <div class="profile-sidebar">
                    <!-- Achievements -->
                    <div class="sidebar-section">
                        <h3>Conquistas</h3>
                        <div class="achievements-grid">
                            <div class="achievement-item earned">
                                <div class="achievement-icon">üèÜ</div>
                                <div class="achievement-info">
                                    <div class="achievement-name">Primeira Reclama√ß√£o</div>
                                    <div class="achievement-desc">Registrou sua primeira reclama√ß√£o</div>
                                </div>
                            </div>
                            
                            <div class="achievement-item earned">
                                <div class="achievement-icon">‚≠ê</div>
                                <div class="achievement-info">
                                    <div class="achievement-name">Cidad√£o Ativo</div>
                                    <div class="achievement-desc">10 reclama√ß√µes registradas</div>
                                </div>
                            </div>
                            
                            <div class="achievement-item earned">
                                <div class="achievement-icon">‚ù§Ô∏è</div>
                                <div class="achievement-info">
                                    <div class="achievement-name">Querido pela Comunidade</div>
                                    <div class="achievement-desc">100+ votos recebidos</div>
                                </div>
                            </div>
                            
                            <div class="achievement-item">
                                <div class="achievement-icon">üéØ</div>
                                <div class="achievement-info">
                                    <div class="achievement-name">Especialista</div>
                                    <div class="achievement-desc">50 reclama√ß√µes registradas</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Summary -->
                    <div class="sidebar-section">
                        <h3>Resumo de Atividade</h3>
                        <div class="activity-summary">
                            <div class="summary-item">
                                <i class="bi bi-calendar-check"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Membro desde</span>
                                    <span class="summary-value">Janeiro 2024</span>
                                </div>
                            </div>
                            
                            <div class="summary-item">
                                <i class="bi bi-clock"></i>
                                <div class="summary-content">
                                    <span class="summary-label">√öltima atividade</span>
                                    <span class="summary-value">2 horas atr√°s</span>
                                </div>
                            </div>
                            
                            <div class="summary-item">
                                <i class="bi bi-geo-alt"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Localiza√ß√£o</span>
                                    <span class="summary-value">Centro, Cuiab√°</span>
                                </div>
                            </div>
                            
                            <div class="summary-item">
                                <i class="bi bi-star"></i>
                                <div class="summary-content">
                                    <span class="summary-label">Avalia√ß√£o m√©dia</span>
                                    <span class="summary-value">4.8/5.0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="sidebar-section">
                        <h3>Informa√ß√µes de Contato</h3>
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="bi bi-envelope"></i>
                                <span>joao.silva@email.com</span>
                            </div>
                            <div class="contact-item">
                                <i class="bi bi-phone"></i>
                                <span>(65) 99999-9999</span>
                            </div>
                            <div class="contact-item">
                                <i class="bi bi-geo-alt"></i>
                                <span>Cuiab√°, Mato Grosso</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="profile-main-content">
                    <!-- Tabs -->
                    <div class="profile-tabs">
                        <button class="tab-btn active" data-tab="complaints">
                            <i class="bi bi-exclamation-triangle"></i>
                            Minhas Reclama√ß√µes
                        </button>
                        <button class="tab-btn" data-tab="activity">
                            <i class="bi bi-clock-history"></i>
                            Atividade
                        </button>
                        <button class="tab-btn" data-tab="favorites">
                            <i class="bi bi-heart"></i>
                            Favoritos
                        </button>
                        <button class="tab-btn" data-tab="settings">
                            <i class="bi bi-gear"></i>
                            Configura√ß√µes
                        </button>
                    </div>

                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- Complaints Tab -->
                        <div class="tab-pane active" id="complaints-tab">
                            <div class="complaints-header">
                                <h3>Minhas Reclama√ß√µes (24)</h3>
                                <div class="complaints-filters">
                                    <select class="filter-select" id="status-filter">
                                        <option value="all">Todos os Status</option>
                                        <option value="pending">Pendentes</option>
                                        <option value="responded">Respondidas</option>
                                        <option value="resolved">Resolvidas</option>
                                    </select>
                                    <select class="filter-select" id="category-filter">
                                        <option value="all">Todas as Categorias</option>
                                        <option value="buracos">Buracos</option>
                                        <option value="iluminacao">Ilumina√ß√£o</option>
                                        <option value="lixo">Limpeza</option>
                                        <option value="transito">Tr√¢nsito</option>
                                    </select>
                                </div>
                            </div>

                            <div class="complaints-list" id="user-complaints-list">
                                <!-- User complaints will be loaded here -->
                                <div class="complaint-item">
                                    <div class="complaint-status status-resolved">
                                        <i class="bi bi-check-circle"></i>
                                    </div>
                                    <div class="complaint-content">
                                        <h4>Buraco na Rua das Palmeiras</h4>
                                        <p>Buraco grande causando danos aos ve√≠culos...</p>
                                        <div class="complaint-meta">
                                            <span class="meta-item">
                                                <i class="bi bi-calendar"></i>
                                                15 de Janeiro
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-heart"></i>
                                                23 votos
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-chat"></i>
                                                5 coment√°rios
                                            </span>
                                        </div>
                                    </div>
                                    <div class="complaint-actions">
                                        <button class="btn btn-small btn-outline">Ver</button>
                                        <button class="btn btn-small btn-outline">Editar</button>
                                    </div>
                                </div>

                                <div class="complaint-item">
                                    <div class="complaint-status status-pending">
                                        <i class="bi bi-clock"></i>
                                    </div>
                                    <div class="complaint-content">
                                        <h4>Ilumina√ß√£o deficiente na Pra√ßa Central</h4>
                                        <p>L√¢mpadas queimadas deixando a pra√ßa escura...</p>
                                        <div class="complaint-meta">
                                            <span class="meta-item">
                                                <i class="bi bi-calendar"></i>
                                                20 de Janeiro
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-heart"></i>
                                                12 votos
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-chat"></i>
                                                2 coment√°rios
                                            </span>
                                        </div>
                                    </div>
                                    <div class="complaint-actions">
                                        <button class="btn btn-small btn-outline">Ver</button>
                                        <button class="btn btn-small btn-outline">Editar</button>
                                    </div>
                                </div>

                                <div class="complaint-item">
                                    <div class="complaint-status status-responded">
                                        <i class="bi bi-chat-dots"></i>
                                    </div>
                                    <div class="complaint-content">
                                        <h4>Lixo acumulado na Rua dos Ip√™s</h4>
                                        <p>Coleta irregular causando ac√∫mulo de lixo...</p>
                                        <div class="complaint-meta">
                                            <span class="meta-item">
                                                <i class="bi bi-calendar"></i>
                                                25 de Janeiro
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-heart"></i>
                                                8 votos
                                            </span>
                                            <span class="meta-item">
                                                <i class="bi bi-chat"></i>
                                                1 coment√°rio
                                            </span>
                                        </div>
                                    </div>
                                    <div class="complaint-actions">
                                        <button class="btn btn-small btn-outline">Ver</button>
                                        <button class="btn btn-small btn-outline">Editar</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Activity Tab -->
                        <div class="tab-pane" id="activity-tab">
                            <h3>Atividade Recente</h3>
                            <div class="activity-timeline">
                                <div class="timeline-item">
                                    <div class="timeline-icon">
                                        <i class="bi bi-plus-circle"></i>
                                    </div>
                                    <div class="timeline-content">
                                        <h4>Nova reclama√ß√£o registrada</h4>
                                        <p>Voc√™ registrou "Lixo acumulado na Rua dos Ip√™s"</p>
                                        <span class="timeline-time">2 horas atr√°s</span>
                                    </div>
                                </div>

                                <div class="timeline-item">
                                    <div class="timeline-icon success">
                                        <i class="bi bi-heart"></i>
                                    </div>
                                    <div class="timeline-content">
                                        <h4>Recebeu 5 novos votos</h4>
                                        <p>Sua reclama√ß√£o "Buraco na Rua das Palmeiras" recebeu mais apoio</p>
                                        <span class="timeline-time">1 dia atr√°s</span>
                                    </div>
                                </div>

                                <div class="timeline-item">
                                    <div class="timeline-icon warning">
                                        <i class="bi bi-chat-dots"></i>
                                    </div>
                                    <div class="timeline-content">
                                        <h4>Resposta da Prefeitura</h4>
                                        <p>A Prefeitura respondeu sua reclama√ß√£o sobre ilumina√ß√£o</p>
                                        <span class="timeline-time">3 dias atr√°s</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Favorites Tab -->
                        <div class="tab-pane" id="favorites-tab">
                            <h3>Reclama√ß√µes Favoritas</h3>
                            <div class="favorites-list">
                                <p class="empty-state">
                                    <i class="bi bi-heart"></i>
                                    Voc√™ ainda n√£o favoritou nenhuma reclama√ß√£o.
                                    <br>
                                    <small>Favorite reclama√ß√µes que considera importantes para acompanhar.</small>
                                </p>
                            </div>
                        </div>

                        <!-- Settings Tab -->
                        <div class="tab-pane" id="settings-tab">
                            <h3>Configura√ß√µes da Conta</h3>
                            <div class="settings-sections">
                                <div class="settings-section">
                                    <h4>Notifica√ß√µes</h4>
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <span class="setting-label">Email sobre novas respostas</span>
                                            <span class="setting-desc">Receba emails quando suas reclama√ß√µes forem respondidas</span>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <span class="setting-label">WhatsApp sobre atualiza√ß√µes</span>
                                            <span class="setting-desc">Receba mensagens no WhatsApp sobre status das reclama√ß√µes</span>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <span class="setting-label">Notifica√ß√µes push</span>
                                            <span class="setting-desc">Receba notifica√ß√µes no navegador</span>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>

                                <div class="settings-section">
                                    <h4>Privacidade</h4>
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <span class="setting-label">Perfil p√∫blico</span>
                                            <span class="setting-desc">Permitir que outros usu√°rios vejam seu perfil</span>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>

                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <span class="setting-label">Mostrar estat√≠sticas</span>
                                            <span class="setting-desc">Exibir suas estat√≠sticas no perfil p√∫blico</span>
                                        </div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>

                                <div class="settings-section">
                                    <h4>Conta</h4>
                                    <div class="setting-actions">
                                        <button class="btn btn-outline" id="change-password-btn">
                                            <i class="bi bi-key"></i>
                                            Alterar Senha
                                        </button>
                                        <button class="btn btn-outline" id="export-data-btn">
                                            <i class="bi bi-download"></i>
                                            Exportar Dados
                                        </button>
                                        <button class="btn btn-danger" id="delete-account-btn">
                                            <i class="bi bi-trash"></i>
                                            Excluir Conta
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h2>Editar Perfil</h2>
                <button class="modal-close" data-modal="edit-profile-modal">
                    <i class="bi bi-x"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="edit-profile-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-full-name">Nome Completo</label>
                            <input type="text" id="edit-full-name" name="full_name" value="Jo√£o Silva Santos" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-username">Nome de Usu√°rio</label>
                            <input type="text" id="edit-username" name="username" value="joao_silva" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-email">Email</label>
                            <input type="email" id="edit-email" name="email" value="joao.silva@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-phone">Telefone</label>
                            <input type="tel" id="edit-phone" name="phone" value="(65) 99999-9999">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="edit-bio">Biografia</label>
                        <textarea id="edit-bio" name="bio" rows="3" placeholder="Conte um pouco sobre voc√™...">Morador do bairro Centro h√° 15 anos. Acredito que juntos podemos fazer nossa cidade melhor! üèôÔ∏è</textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-city">Cidade</label>
                            <select id="edit-city" name="city">
                                <option value="cuiaba" selected>Cuiab√° - MT</option>
                                <option value="varzea-grande">V√°rzea Grande - MT</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-neighborhood">Bairro</label>
                            <input type="text" id="edit-neighborhood" name="neighborhood" value="Centro">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="edit-profile-modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check"></i>
                            Salvar Altera√ß√µes
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="change-password-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Alterar Senha</h2>
                <button class="modal-close" data-modal="change-password-modal">
                    <i class="bi bi-x"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="change-password-form">
                    <div class="form-group">
                        <label for="current-password">Senha Atual</label>
                        <input type="password" id="current-password" name="current_password" required>
                    </div>

                    <div class="form-group">
                        <label for="new-password">Nova Senha</label>
                        <input type="password" id="new-password" name="new_password" required>
                        <div class="password-strength" id="password-strength"></div>
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">Confirmar Nova Senha</label>
                        <input type="password" id="confirm-password" name="confirm_password" required>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="change-password-modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-key"></i>
                            Alterar Senha
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="avatar-upload" accept="image/*" hidden>
    <input type="file" id="cover-upload" accept="image/*" hidden>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <script src="script.js"></script>
    <script src="profile.js"></script>
</body>
</html>

